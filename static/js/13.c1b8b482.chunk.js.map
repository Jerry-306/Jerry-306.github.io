{"version":3,"sources":["components/MyNavBar/index.js","components/MyNavBar/index.module.css","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","components/NoHouse/index.js","components/NoHouse/index.module.css","components/HouseItem/index.js","components/HouseItem/index.module.css","pages/MyFavorite/index.module.css","pages/MyFavorite/index.js"],"names":["MyNavBar","defaultClick","props","history","goBack","this","children","className","rightContent","onLeftClick","styles","navbar","join","mode","icon","Component","withRouter","module","exports","require","Object","defineProperty","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","NavBar","_React$Component","__proto__","getPrototypeOf","apply","arguments","_a","prefixCls","leftContent","restProps","createElement","role","onClick","defaultProps","NoHouse","root","img","src","BASE_URL","alt","msg","HouseItem","title","desc","tags","price","style","house","imgWrap","content","map","tag","index","tagClass","priceNum","MyFavorite","state","list","isLoading","a","setState","loading","API","get","res","hide","data","status","body","location","replace","from","getHouseList","item","houseImg","push","houseCode","houses","renderHouseItem","to","link","renderHouseList"],"mappings":"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","file":"static/js/13.c1b8b482.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport {NavBar} from 'antd-mobile'\r\nimport styles from './index.module.css'\r\n\r\nclass MyNavBar extends Component {\r\n    // 属性校验\r\n    static propTypes = {\r\n        children: PropTypes.string.isRequired,\r\n        onLeftClick: PropTypes.func,\r\n        className: PropTypes.string,\r\n        rightContent: PropTypes.array\r\n    }\r\n\r\n    // 默认点击返回按钮事件\r\n    defaultClick = () => this.props.history.goBack();\r\n    render() {\r\n        const {children, className, rightContent, onLeftClick} = this.props;\r\n        return (\r\n            <div>\r\n                <NavBar\r\n                    className={[styles.navbar, className || ''].join(' ')}\r\n                    mode=\"light\"\r\n                    icon={<i className=\"iconfont icon-back\"/>}\r\n                    onLeftClick={onLeftClick || this.defaultClick} \r\n                    rightContent={rightContent}\r\n                >\r\n                    {children}\r\n                </NavBar>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MyNavBar);\r\n/* \r\n此组件用于封装顶部导航栏\r\n只有路由组件才有history 等API\r\n于是， 利用 withRouter（）函数 包裹一般组件，就可以把一般组件变成路由组件 \r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"MyNavBar_navbar__1MYpP\"};","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { BASE_URL } from '../../utils/url'\r\nimport styles from './index.module.css'\r\n\r\nexport default class NoHouse extends Component {\r\n    static propTypes = {\r\n        children: PropTypes.node.isRequired\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={styles.root}>\r\n                <img\r\n                    className={styles.img}\r\n                    src={BASE_URL + '/img/not-found.png'}\r\n                    alt=\"暂无数据\"\r\n                />\r\n                <p className={styles.msg}>{this.props.children}</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NoHouse_root__kcDiZ\",\"img\":\"NoHouse_img__2BOIP\",\"msg\":\"NoHouse_msg__2-W6c\"};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './index.module.css'\r\n\r\nexport default class HouseItem extends Component {\r\n    static propTypes = {\r\n        src: PropTypes.string,\r\n        title: PropTypes.string,\r\n        desc: PropTypes.string,\r\n        tags: PropTypes.array.isRequired,\r\n        price: PropTypes.number,\r\n        onClick: PropTypes.func\r\n    }\r\n\r\n    render() {\r\n        const {src, title, desc, tags, price, style, onClick} = this.props;\r\n        return (\r\n            <div className={styles.house} style={style} onClick={onClick} >\r\n                <div className={styles.imgWrap}>\r\n                <img\r\n                    className={styles.img}\r\n                    src={src}\r\n                    alt=\"\"\r\n                />\r\n                </div>\r\n                <div className={styles.content}>\r\n                    <h3 className={styles.title}>{title}</h3>\r\n                    <div className={styles.desc}>{desc}</div>\r\n                    <div>\r\n                        {/* ['近地铁', '随时看房'] */}\r\n                        {tags.map((tag, index) => {\r\n                            const tagClass = 'tag' + (index % 4 + 1)\r\n                            return (\r\n                                <span\r\n                                    className={[styles.tag, styles[tagClass]].join(' ')}\r\n                                    key={tag}\r\n                                >\r\n                                    {tag}\r\n                                </span>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className={styles.price}>\r\n                        <span className={styles.priceNum}>{price}</span> 元/月\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__3Avqi\",\"imgWrap\":\"HouseItem_imgWrap__ocbSI\",\"img\":\"HouseItem_img__T4LVu\",\"content\":\"HouseItem_content__1Uucg\",\"title\":\"HouseItem_title__ZGRaa\",\"desc\":\"HouseItem_desc__126ya\",\"price\":\"HouseItem_price__nJXZ4\",\"priceNum\":\"HouseItem_priceNum__3ms0A\",\"tag\":\"HouseItem_tag__atV98\",\"tag1\":\"HouseItem_tag1__6i_w3\",\"tag2\":\"HouseItem_tag2__32HGp\",\"tag3\":\"HouseItem_tag3__1MKZo\",\"tag4\":\"HouseItem_tag4__25svf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MyFavorite_root__3qMca\",\"link\":\"MyFavorite_link__3XFIB\",\"houses\":\"MyFavorite_houses__1WUoQ\"};","import React, { Component } from 'react'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport API from '../../utils/api'\r\nimport { BASE_URL } from '../../utils/url'\r\nimport HouseItem from '../../components/HouseItem'\r\nimport MyNavBar from '../../components/MyNavBar'\r\nimport NoHouse from '../../components/NoHouse'\r\nimport styles from './index.module.css'\r\nimport { Toast } from 'antd-mobile'\r\n\r\nexport default class MyFavorite extends Component {\r\n    state = {\r\n        // 收藏房屋列表\r\n        list: [],\r\n        isLoading: false\r\n    }\r\n\r\n    // 获取已收藏房源列表信息\r\n    async getHouseList () {\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n\r\n        Toast.loading('Loading...', 0, null, false);\r\n        const res = await API.get('/user/favorites');\r\n\r\n        Toast.hide();\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n        const { status, body } = res.data;\r\n        if (status === 200) {\r\n            this.setState({\r\n                list: body\r\n            })\r\n        } else {\r\n            const { history, location } = this.props;\r\n            history.replace('/login', {\r\n                from: location\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.getHouseList();\r\n    }\r\n\r\n    renderHouseItem () {\r\n        const { list } = this.state;\r\n        const { history } = this.props;\r\n        return list.map(item => (\r\n            <HouseItem\r\n                key={item.houseCode}\r\n                src={BASE_URL + item.houseImg}\r\n                onClick={() => history.push(`/detail/${item.houseCode}`)}\r\n                title={item.title}\r\n                desc={item.desc}\r\n                tags={item.tags}\r\n                price={item.price}\r\n            />\r\n        ))\r\n    }\r\n\r\n    renderHouseList () {\r\n        const { list, isLoading } = this.state;\r\n\r\n        if ( list.length === 0 && !isLoading ) {\r\n            return (\r\n                <NoHouse>\r\n                    您还没有收藏房源,\r\n                    <Link to='/home/list' className={styles.link}>  去看看房源吧~</Link>\r\n                </NoHouse>\r\n            )\r\n        } else {\r\n            return <div className={styles.houses}>{this.renderHouseItem()}</div>\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.root}>\r\n                <MyNavBar onLeftClick={ () => this.props.history.goBack()}>我的收藏</MyNavBar>\r\n                {this.renderHouseList()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}