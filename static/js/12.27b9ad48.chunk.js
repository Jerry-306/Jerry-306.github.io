(this.webpackJsonpzufang=this.webpackJsonpzufang||[]).push([[12],{212:function(e,t,a){"use strict";a(214);var n=a(215),s=a.n(n),i=a(16),r=a(17),c=a(18),o=a(19),l=a(0),u=a(7),d=a(213),f=a.n(d),j=a(1),m=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).defaultClick=function(){return e.props.history.goBack()},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.rightContent,i=e.onLeftClick;return Object(j.jsx)("div",{children:Object(j.jsx)(s.a,{className:[f.a.navbar,a||""].join(" "),mode:"light",icon:Object(j.jsx)("i",{className:"iconfont icon-back"}),onLeftClick:i||this.defaultClick,rightContent:n,children:t})})}}]),a}(l.Component);t.a=Object(u.g)(m)},213:function(e,t,a){e.exports={navbar:"MyNavBar_navbar__1MYpP"}},214:function(e,t,a){"use strict";a(24),a(216)},215:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),s=u(a(3)),i=u(a(6)),r=u(a(4)),c=u(a(5)),o=u(a(20)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(a[n[s]]=e[n[s]])}return a},f=function(e){function t(){return(0,s.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.className,s=e.children,i=e.mode,r=e.icon,c=e.onLeftClick,u=e.leftContent,f=e.rightContent,j=d(e,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,n.default)({},j,{className:(0,o.default)(a,t,t+"-"+i)}),l.createElement("div",{className:t+"-left",role:"button",onClick:c},r?l.createElement("span",{className:t+"-left-icon","aria-hidden":"true"},r):null,u),l.createElement("div",{className:t+"-title"},s),l.createElement("div",{className:t+"-right"},f))}}]),t}(l.Component);t.default=f,f.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},e.exports=t.default},216:function(e,t,a){},222:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(230);var s=a(226);function i(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(s.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},226:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(230);function s(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},230:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},259:function(e,t,a){"use strict";var n=a(222),s=a(16),i=a(17),r=a(18),c=a(19),o=a(0),l=a(260),u=a.n(l),d=a(1),f=[{id:1,name:"\u8863\u67dc",icon:"icon-wardrobe"},{id:2,name:"\u6d17\u8863\u673a",icon:"icon-wash"},{id:3,name:"\u7a7a\u8c03",icon:"icon-air"},{id:4,name:"\u5929\u7136\u6c14",icon:"icon-gas"},{id:5,name:"\u51b0\u7bb1",icon:"icon-ref"},{id:6,name:"\u6696\u6c14",icon:"icon-Heat"},{id:7,name:"\u7535\u89c6",icon:"icon-vid"},{id:8,name:"\u70ed\u6c34\u5668",icon:"icon-heater"},{id:9,name:"\u5bbd\u5e26",icon:"icon-broadband"},{id:10,name:"\u6c99\u53d1",icon:"icon-sofa"}],j=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedNames:[]},e.toggleSelect=function(t){var a=e.state.selectedNames,s=[];if(a.includes(t)){var i=a.indexOf(t);a.splice(i,1),s=a}else s=[].concat(Object(n.a)(a),[t]);e.props.onSelect(s),e.setState({selectedNames:s})},e}return Object(i.a)(a,[{key:"renderItems",value:function(){var e=this,t=this.props,a=t.list,n=t.select;if(a)return f.filter((function(e){return a.includes(e.name)})).map((function(e){return Object(d.jsxs)("div",{className:u.a.item,children:[Object(d.jsx)("i",{className:["iconfont",u.a.icon,e.icon].join(" ")}),e.name]},e.id)}));if(n){var s=this.state.selectedNames;return f.map((function(t){var a=s.includes(t.name);return Object(d.jsxs)("div",{className:[u.a.item,a?u.a.active:""].join(" "),onClick:function(){return e.toggleSelect(t.name)},children:[Object(d.jsx)("i",{className:["iconfont",u.a.icon,t.icon].join(" ")}),t.name]},t.id)}))}return"\u5565\u4e5f\u6ca1\u4f20\u9012"}},{key:"render",value:function(){return Object(d.jsx)("div",{className:u.a.root,children:this.renderItems()})}}]),a}(o.Component);j.defaultProps={onSelect:function(){}},t.a=j},260:function(e,t,a){e.exports={root:"HousePackage_root__3aXgU",item:"HousePackage_item__28u4b",icon:"HousePackage_icon__2uyhd",active:"HousePackage_active__CakOy"}},351:function(e,t,a){e.exports={root:"HouseDetail_root__2Ds_F",navHeader:"HouseDetail_navHeader__3lSK_",slides:"HouseDetail_slides__GfNjp",info:"HouseDetail_info__AbNGz",infoTitle:"HouseDetail_infoTitle__cDBex",tags:"HouseDetail_tags__vUO8a",tag:"HouseDetail_tag__31gTO",tag1:"HouseDetail_tag1__1mwvG",tag2:"HouseDetail_tag2__1_gow",tag3:"HouseDetail_tag3__B55u2",tag4:"HouseDetail_tag4__3y-b4",infoPrice:"HouseDetail_infoPrice__t42-m",infoPriceItem:"HouseDetail_infoPriceItem__8uSDr",month:"HouseDetail_month__2kzcN",infoBasic:"HouseDetail_infoBasic__2gm1T",title:"HouseDetail_title__10q_K",map:"HouseDetail_map__z70DG",mapTitle:"HouseDetail_mapTitle__1wNvH",mapContainer:"HouseDetail_mapContainer__1emM5",rect:"HouseDetail_rect__3hXXd",arrow:"HouseDetail_arrow__PUMSg",housename:"HouseDetail_housename__263B2",about:"HouseDetail_about__1um_8",titleEmpty:"HouseDetail_titleEmpty__1ta0B",set:"HouseDetail_set__3x1FP",houseTitle:"HouseDetail_houseTitle__cwrox",contact:"HouseDetail_contact__3Tvf1",user:"HouseDetail_user__3aXn9",userInfo:"HouseDetail_userInfo__2aOwa",userAuth:"HouseDetail_userAuth__2Fyoe",userMsg:"HouseDetail_userMsg__3kRxu",descText:"HouseDetail_descText__gtn-z",buttons:"HouseDetail_buttons__IAVdm",favorite:"HouseDetail_favorite__72qb8",consult:"HouseDetail_consult__1ojz5",reserve:"HouseDetail_reserve__2Yj5A"}},511:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));a(49);var n=a(15),s=a.n(n),i=(a(78),a(67)),r=a.n(i),c=a(25),o=(a(224),a(225)),l=a.n(o),u=a(16),d=a(17),f=a(18),j=a(19),m=(a(245),a(246)),h=a.n(m),p=a(13),b=a.n(p),_=a(0),v=a(212),O=a(259),x=a(21),g=a(52),y=a(39),N=a(351),H=a.n(N),k=a(1),D=window.BMapGL,w={cursor:"pointer",border:"0px solid rgb(255, 0, 0)",padding:"0px",whiteSpace:"nowrap",fontSize:"14px",color:"rgb(255, 255, 255)",textAlign:"center"},C=h.a.alert,I=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isLoading:!1,houseInfo:{houseImg:[],title:"",tags:[],price:0,roomType:"",size:0,oriented:[],floor:"",community:"",coord:{latitude:"39.928033",longitude:"116.529466"},supporting:[],houseCode:"",description:""},isFavorite:!1},e.closed=function(){l.a.info("\u6682\u672a\u5f00\u901a\u8be5\u529f\u80fd",2,null,!1)},e.handleFavorite=Object(c.a)(b.a.mark((function t(){var a,n,s,i,r,c,o,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(g.b)(),n=e.props,s=n.history,i=n.location,r=n.match,!a){t.next=19;break}if(c=e.state.isFavorite,o=r.params.id,!c){t.next=13;break}return t.next=8,y.a.delete("/user/favorites/".concat(o));case 8:u=t.sent,e.setState({isFavorite:!1}),200===u.data.status?l.a.info("\u5df2\u53d6\u6d88\u6536\u85cf",1,null,!1):l.a.info("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",2,null,!1),t.next=17;break;case 13:return t.next=15,y.a.post("/user/favorites/".concat(o));case 15:200===t.sent.data.status?(l.a.info("\u6536\u85cf\u6210\u529f",1,null,!1),e.setState({isFavorite:!0})):l.a.info("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",2,null,!1);case 17:t.next=20;break;case 19:return t.abrupt("return",C("\u63d0\u793a","\u8be5\u529f\u80fd\u9700\u8981\u5148\u767b\u5f55\uff0c\u662f\u5426\u767b\u5f55\uff1f",[{text:"\u5426"},{text:"\u662f",onPress:function(){return s.push("/login",{from:i})}}]));case 20:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"getHouseDetail",value:function(){var e=Object(c.a)(b.a.mark((function e(){var t,a,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,this.setState({isLoading:!0}),e.next=4,y.a.get("/houses/".concat(t));case 4:a=e.sent,this.setState({houseInfo:a.data.body,isLoading:!1}),n=a.data.body,s=n.community,i=n.coord,this.renderMap(s,i);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkFavorite",value:function(){var e=Object(c.a)(b.a.mark((function e(){var t,a,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(g.b)()){e.next=10;break}return t=this.props.match.params.id,e.next=5,y.a.get("/user/favorites/".concat(t));case 5:a=e.sent,n=a.data,s=n.status,i=n.body,200===s&&this.setState({isFavorite:i.isFavorite}),e.next=11;break;case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getHouseDetail(),this.checkFavorite()}},{key:"renderSwipers",value:function(){return this.state.houseInfo.houseImg.map((function(e){return Object(k.jsx)("img",{src:x.a+e,alt:"\u623f\u5c4b\u56fe\u7247"},e)}))}},{key:"renderMap",value:function(e,t){var a=t.longitude,n=t.latitude,s=new D.Map("map"),i=new D.Point(a,n);s.centerAndZoom(i,17),s.addControl(new D.ZoomControl);var r=new D.Label("",{position:i,offset:new D.Size(0,0)});r.setContent('\n            <div class="'.concat(H.a.rect,'">\n                <span class="').concat(H.a.housename,'">').concat(e,'</span>\n                <i class="').concat(H.a.arrow,'"></i>\n            </div>\n        ')),r.setStyle(w),s.addOverlay(r)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.houseInfo,n=a.community,i=a.title,c=a.tags,o=a.price,l=a.roomType,u=a.size,d=a.floor,f=a.oriented,j=a.supporting,m=a.description,h=e.isFavorite;return Object(k.jsxs)("div",{className:H.a.root,children:[Object(k.jsx)(v.a,{className:H.a.navHeader,rightContent:[Object(k.jsx)("i",{className:"iconfont icon-share",onClick:this.closed},"share")],children:n}),Object(k.jsx)("div",{className:H.a.slides,children:t?null:Object(k.jsx)(r.a,{autoplay:!0,infinite:!0,autoplayInterval:2e3,children:this.renderSwipers()})}),Object(k.jsxs)("div",{className:H.a.info,children:[Object(k.jsx)("h3",{className:H.a.infoTitle,children:i}),Object(k.jsx)(s.a,{className:H.a.infoTags,children:Object(k.jsx)(s.a.Item,{children:c.map((function(e,t){return Object(k.jsx)("span",{className:[H.a.tag,H.a.tags,H.a["tag"+(t%4+1)]].join(" "),children:e},e)}))})}),Object(k.jsxs)(s.a,{className:H.a.infoPrice,children:[Object(k.jsxs)(s.a.Item,{className:H.a.infoPriceItem,children:[Object(k.jsxs)("div",{children:[o,Object(k.jsx)("span",{className:H.a.month,children:"/\u6708"})]}),Object(k.jsx)("div",{children:"\u79df\u91d1"})]}),Object(k.jsxs)(s.a.Item,{className:H.a.infoPriceItem,children:[Object(k.jsx)("div",{children:l}),Object(k.jsx)("div",{children:"\u623f\u578b"})]}),Object(k.jsxs)(s.a.Item,{className:H.a.infoPriceItem,children:[Object(k.jsxs)("div",{children:[u,"\u5e73\u65b9"]}),Object(k.jsx)("div",{children:"\u9762\u79ef"})]})]}),Object(k.jsxs)(s.a,{className:H.a.infoBasic,align:"start",children:[Object(k.jsxs)(s.a.Item,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u88c5\u4fee\uff1a"}),"\u7cbe\u88c5"]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u697c\u5c42\uff1a"}),d]})]}),Object(k.jsxs)(s.a.Item,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u671d\u5411\uff1a"}),f.join("\u3001")]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u7c7b\u578b\uff1a"}),"\u666e\u901a\u4f4f\u5b85"]})]})]})]}),Object(k.jsxs)("div",{className:H.a.map,children:[Object(k.jsxs)("div",{className:H.a.mapTitle,children:["\u5c0f\u533a\uff1a",Object(k.jsx)("span",{children:i})]}),Object(k.jsx)("div",{className:H.a.mapContainer,id:"map",children:"\u5730\u56fe"})]}),Object(k.jsxs)("div",{className:H.a.about,children:[Object(k.jsx)("div",{className:H.a.houseTitle,children:"\u623f\u5c4b\u914d\u5957"}),0===j.length?Object(k.jsx)("div",{className:H.a.titleEmpty,children:"\u6682\u65e0\u6570\u636e"}):Object(k.jsx)(O.a,{list:j})]}),Object(k.jsxs)("div",{className:H.a.set,children:[Object(k.jsx)("div",{className:H.a.houseTitle,children:"\u623f\u5c4b\u6982\u51b5"}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:H.a.contact,children:[Object(k.jsxs)("div",{className:H.a.user,children:[Object(k.jsx)("img",{src:x.a+"/img/avatar.png",alt:"\u5934\u50cf"}),Object(k.jsxs)("div",{className:H.a.userInfo,children:[Object(k.jsx)("div",{children:"\u5f20\u5973\u58eb"}),Object(k.jsxs)("div",{className:H.a.userAuth,children:[Object(k.jsx)("i",{className:"iconfont icon-auth"}),"\u5df2\u8ba4\u8bc1\u623f\u4e3b"]})]})]}),Object(k.jsx)("span",{className:H.a.userMsg,children:"\u53d1\u6d88\u606f"})]}),Object(k.jsx)("div",{className:H.a.descText,children:m||"\u6682\u65e0\u623f\u5c4b\u6570\u636e"})]})]}),Object(k.jsxs)("div",{className:H.a.buttons,children:[Object(k.jsxs)("span",{className:H.a.favorite,onClick:this.handleFavorite,children:[Object(k.jsx)("img",{src:x.a+(h?"/img/star.png":"/img/unstar.png"),alt:"\u6536\u85cf"}),h?"\u5df2\u6536\u85cf":"\u6536\u85cf"]}),Object(k.jsx)("span",{className:H.a.consult,onClick:this.closed,children:"\u5728\u7ebf\u54a8\u8be2"}),Object(k.jsx)("span",{className:H.a.reserve,children:Object(k.jsx)("a",{href:"tel: 183614999905",children:"\u7535\u8bdd\u9884\u5b9a"})})]})]})}}]),a}(_.Component)}}]);
//# sourceMappingURL=12.27b9ad48.chunk.js.map