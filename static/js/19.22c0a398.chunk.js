(this.webpackJsonpzufang=this.webpackJsonpzufang||[]).push([[19],{212:function(t,e,n){"use strict";n(214);var r=n(215),i=n.n(r),a=n(16),c=n(17),s=n(18),o=n(19),l=n(0),u=n(7),f=n(213),d=n.n(f),h=n(1),y=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).defaultClick=function(){return t.props.history.goBack()},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.rightContent,a=t.onLeftClick;return Object(h.jsx)("div",{children:Object(h.jsx)(i.a,{className:[d.a.navbar,n||""].join(" "),mode:"light",icon:Object(h.jsx)("i",{className:"iconfont icon-back"}),onLeftClick:a||this.defaultClick,rightContent:r,children:e})})}}]),n}(l.Component);e.a=Object(u.g)(y)},213:function(t,e,n){t.exports={navbar:"MyNavBar_navbar__1MYpP"}},214:function(t,e,n){"use strict";n(24),n(216)},215:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(2)),i=u(n(3)),a=u(n(6)),c=u(n(4)),s=u(n(5)),o=u(n(20)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));function u(t){return t&&t.__esModule?t:{default:t}}var f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},d=function(t){function e(){return(0,i.default)(this,e),(0,c.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.className,i=t.children,a=t.mode,c=t.icon,s=t.onLeftClick,u=t.leftContent,d=t.rightContent,h=f(t,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,r.default)({},h,{className:(0,o.default)(n,e,e+"-"+a)}),l.createElement("div",{className:e+"-left",role:"button",onClick:s},c?l.createElement("span",{className:e+"-left-icon","aria-hidden":"true"},c):null,u),l.createElement("div",{className:e+"-title"},i),l.createElement("div",{className:e+"-right"},d))}}]),e}(l.Component);e.default=d,d.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},t.exports=e.default},216:function(t,e,n){},340:function(t,e,n){},509:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var r=n(25),i=n(16),a=n(17),c=n(18),s=n(19),o=n(13),l=n.n(o),u=n(0),f=n(325),d=n(212),h=n(79),y=n(39),p=(n(340),n(1));function v(t){var e,n={};return t.forEach((function(t){var e=t.short.substr(0,1);n[e]?n[e].push(t):n[e]=[t]})),e=Object.keys(n).sort(),{cityList:n,cityIndex:e}}function b(t){switch(t){case"#":return"\u5f53\u524d\u5b9a\u4f4d";case"hot":return"\u70ed\u95e8\u57ce\u5e02";default:return t.toUpperCase()}}var j=function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={cityList:{},cityIndex:[],activeIndex:0},t.rowRenderer=function(e){var n=e.key,r=e.index,i=(e.isScrolling,e.isVisible,e.style),a=t.state,c=a.cityIndex,s=a.cityList,o=c[r];return Object(p.jsxs)("div",{style:i,className:"city",children:[Object(p.jsx)("div",{className:"title",children:b(o)}),s[o].map((function(e){return Object(p.jsx)("div",{className:"name",onClick:function(){return t.changeCity(e)},children:e.label},e.value)}))]},n)},t.rowsRendered=function(e){var n=e.startIndex;n!==t.state.activeIndex&&t.setState({activeIndex:n})},t.getRowHeight=function(e){var n=e.index,r=t.state;return 36+50*r.cityList[r.cityIndex[n]].length},t}return Object(a.a)(n,[{key:"getCityList",value:function(){var t=Object(r.a)(l.a.mark((function t(){var e,n,r,i,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("/area/city?level=1");case 2:return e=t.sent,n=v(e.data.body),r=n.cityList,i=n.cityIndex,t.next=6,y.a.get("/area/hot");case 6:return a=t.sent,r.hot=a.data.body,i.unshift("hot"),t.next=11,Object(h.a)();case 11:c=t.sent,r["#"]=[c],i.unshift("#"),this.setState({cityList:r,cityIndex:i});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"renderCityIndex",value:function(){var t=this,e=this.state,n=e.cityIndex,r=e.activeIndex;return n.map((function(e,n){return Object(p.jsx)("li",{className:"city-index-item",onClick:function(){t.cityListComponent.scrollToRow(n)},children:Object(p.jsx)("span",{className:r===n?"index-active":"",children:"hot"===e?"\u70ed":e.toUpperCase()})},e)}))}},{key:"changeCity",value:function(t){var e=t.label,n=t.value;localStorage.setItem("zfy_city",JSON.stringify({label:e,value:n})),this.props.history.goBack()}},{key:"componentDidMount",value:function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCityList();case 2:this.cityListComponent.measureAllRows();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{className:"citylist",children:[Object(p.jsx)(d.a,{children:"\u57ce\u5e02\u9009\u62e9"}),Object(p.jsx)(f.a,{children:function(e){var n=e.width,r=e.height;return Object(p.jsx)(f.c,{ref:function(e){return t.cityListComponent=e},width:n,height:r,rowCount:t.state.cityIndex.length,rowHeight:t.getRowHeight,rowRenderer:t.rowRenderer,onRowsRendered:t.rowsRendered,scrollToAlignment:"start"})}}),Object(p.jsx)("ul",{className:"city-index",children:this.renderCityIndex()})]})}}]),n}(u.Component)}}]);
//# sourceMappingURL=19.22c0a398.chunk.js.map