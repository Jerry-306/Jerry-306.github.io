(this.webpackJsonpzufang=this.webpackJsonpzufang||[]).push([[12],{210:function(e,t,a){"use strict";a(212);var n=a(213),i=a.n(n),s=a(16),r=a(17),c=a(18),o=a(19),l=a(0),u=a(7),d=a(211),f=a.n(d),j=a(1),m=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).defaultClick=function(){return e.props.history.goBack()},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.rightContent,s=e.onLeftClick;return Object(j.jsx)("div",{children:Object(j.jsx)(i.a,{className:[f.a.navbar,a||""].join(" "),mode:"light",icon:Object(j.jsx)("i",{className:"iconfont icon-back"}),onLeftClick:s||this.defaultClick,rightContent:n,children:t})})}}]),a}(l.Component);t.a=Object(u.g)(m)},211:function(e,t,a){e.exports={navbar:"MyNavBar_navbar__39ut8"}},212:function(e,t,a){"use strict";a(24),a(214)},213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),i=u(a(3)),s=u(a(6)),r=u(a(4)),c=u(a(5)),o=u(a(20)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(a[n[i]]=e[n[i]])}return a},f=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.className,i=e.children,s=e.mode,r=e.icon,c=e.onLeftClick,u=e.leftContent,f=e.rightContent,j=d(e,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,n.default)({},j,{className:(0,o.default)(a,t,t+"-"+s)}),l.createElement("div",{className:t+"-left",role:"button",onClick:c},r?l.createElement("span",{className:t+"-left-icon","aria-hidden":"true"},r):null,u),l.createElement("div",{className:t+"-title"},i),l.createElement("div",{className:t+"-right"},f))}}]),t}(l.Component);t.default=f,f.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},e.exports=t.default},214:function(e,t,a){},220:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(228);var i=a(224);function s(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},224:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(228);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},228:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},257:function(e,t,a){"use strict";var n=a(220),i=a(16),s=a(17),r=a(18),c=a(19),o=a(0),l=a(258),u=a.n(l),d=a(1),f=[{id:1,name:"\u8863\u67dc",icon:"icon-wardrobe"},{id:2,name:"\u6d17\u8863\u673a",icon:"icon-wash"},{id:3,name:"\u7a7a\u8c03",icon:"icon-air"},{id:4,name:"\u5929\u7136\u6c14",icon:"icon-gas"},{id:5,name:"\u51b0\u7bb1",icon:"icon-ref"},{id:6,name:"\u6696\u6c14",icon:"icon-Heat"},{id:7,name:"\u7535\u89c6",icon:"icon-vid"},{id:8,name:"\u70ed\u6c34\u5668",icon:"icon-heater"},{id:9,name:"\u5bbd\u5e26",icon:"icon-broadband"},{id:10,name:"\u6c99\u53d1",icon:"icon-sofa"}],j=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedNames:[]},e.toggleSelect=function(t){var a=e.state.selectedNames,i=[];if(a.includes(t)){var s=a.indexOf(t);a.splice(s,1),i=a}else i=[].concat(Object(n.a)(a),[t]);e.props.onSelect(i),e.setState({selectedNames:i})},e}return Object(s.a)(a,[{key:"renderItems",value:function(){var e=this,t=this.props,a=t.list,n=t.select;if(a)return f.filter((function(e){return a.includes(e.name)})).map((function(e){return Object(d.jsxs)("div",{className:u.a.item,children:[Object(d.jsx)("i",{className:["iconfont",u.a.icon,e.icon].join(" ")}),e.name]},e.id)}));if(n){var i=this.state.selectedNames;return f.map((function(t){var a=i.includes(t.name);return Object(d.jsxs)("div",{className:[u.a.item,a?u.a.active:""].join(" "),onClick:function(){return e.toggleSelect(t.name)},children:[Object(d.jsx)("i",{className:["iconfont",u.a.icon,t.icon].join(" ")}),t.name]},t.id)}))}return"\u5565\u4e5f\u6ca1\u4f20\u9012"}},{key:"render",value:function(){return Object(d.jsx)("div",{className:u.a.root,children:this.renderItems()})}}]),a}(o.Component);j.defaultProps={onSelect:function(){}},t.a=j},258:function(e,t,a){e.exports={root:"HousePackage_root__3MASA",item:"HousePackage_item__2hfJ8",icon:"HousePackage_icon__1SVQj",active:"HousePackage_active__2livD"}},349:function(e,t,a){e.exports={root:"HouseDetail_root__2QAoy",navHeader:"HouseDetail_navHeader__3iuPU",slides:"HouseDetail_slides__sUeU8",info:"HouseDetail_info__2EAN5",infoTitle:"HouseDetail_infoTitle__3IBcB",tags:"HouseDetail_tags__2KZsQ",tag:"HouseDetail_tag__8nqmm",tag1:"HouseDetail_tag1__3G4DI",tag2:"HouseDetail_tag2__1QcGp",tag3:"HouseDetail_tag3__17XJH",tag4:"HouseDetail_tag4__3jz7n",infoPrice:"HouseDetail_infoPrice__2uvov",infoPriceItem:"HouseDetail_infoPriceItem__24A2b",month:"HouseDetail_month__3o_6W",infoBasic:"HouseDetail_infoBasic__3XsbS",title:"HouseDetail_title__RbjyZ",map:"HouseDetail_map__3Ub_J",mapTitle:"HouseDetail_mapTitle__3PuyQ",mapContainer:"HouseDetail_mapContainer__1Zl53",rect:"HouseDetail_rect__1d_u0",arrow:"HouseDetail_arrow__ooYOS",housename:"HouseDetail_housename__39dH4",about:"HouseDetail_about__2-jCk",titleEmpty:"HouseDetail_titleEmpty__2Tr2A",set:"HouseDetail_set__1ROUl",houseTitle:"HouseDetail_houseTitle__2Zmmp",contact:"HouseDetail_contact__2mu8G",user:"HouseDetail_user__29J-A",userInfo:"HouseDetail_userInfo__1dOEN",userAuth:"HouseDetail_userAuth__PYiFT",userMsg:"HouseDetail_userMsg__3bhiF",descText:"HouseDetail_descText__ggvYj",buttons:"HouseDetail_buttons__1oKWI",favorite:"HouseDetail_favorite__12P7r",consult:"HouseDetail_consult__3w5rA",reserve:"HouseDetail_reserve__vQVF3"}},509:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));a(48);var n=a(15),i=a.n(n),s=(a(78),a(66)),r=a.n(s),c=a(12),o=a.n(c),l=a(25),u=(a(222),a(223)),d=a.n(u),f=a(16),j=a(17),m=a(18),h=a(19),p=(a(243),a(244)),b=a.n(p),_=a(0),v=a(210),O=a(257),x=a(21),g=a(51),y=a(39),N=a(349),H=a.n(N),k=a(1),D=window.BMapGL,w={cursor:"pointer",border:"0px solid rgb(255, 0, 0)",padding:"0px",whiteSpace:"nowrap",fontSize:"14px",color:"rgb(255, 255, 255)",textAlign:"center"},C=b.a.alert,I=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isLoading:!1,houseInfo:{houseImg:[],title:"",tags:[],price:0,roomType:"",size:0,oriented:[],floor:"",community:"",coord:{latitude:"39.928033",longitude:"116.529466"},supporting:[],houseCode:"",description:""},isFavorite:!1},e.closed=function(){d.a.info("\u6682\u672a\u5f00\u901a\u8be5\u529f\u80fd",2,null,!1)},e.handleFavorite=Object(l.a)(o.a.mark((function t(){var a,n,i,s,r,c,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(g.b)(),n=e.props,i=n.history,s=n.location,r=n.match,!a){t.next=19;break}if(c=e.state.isFavorite,l=r.params.id,!c){t.next=13;break}return t.next=8,y.a.delete("/user/favorites/".concat(l));case 8:u=t.sent,e.setState({isFavorite:!1}),200===u.data.status?d.a.info("\u5df2\u53d6\u6d88\u6536\u85cf",1,null,!1):d.a.info("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",2,null,!1),t.next=17;break;case 13:return t.next=15,y.a.post("/user/favorites/".concat(l));case 15:200===t.sent.data.status?(d.a.info("\u6536\u85cf\u6210\u529f",1,null,!1),e.setState({isFavorite:!0})):d.a.info("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",2,null,!1);case 17:t.next=20;break;case 19:return t.abrupt("return",C("\u63d0\u793a","\u8be5\u529f\u80fd\u9700\u8981\u5148\u767b\u5f55\uff0c\u662f\u5426\u767b\u5f55\uff1f",[{text:"\u5426"},{text:"\u662f",onPress:function(){return i.push("/login",{from:s})}}]));case 20:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(a,[{key:"getHouseDetail",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,this.setState({isLoading:!0}),e.next=4,y.a.get("/houses/".concat(t));case 4:a=e.sent,this.setState({houseInfo:a.data.body,isLoading:!1}),n=a.data.body,i=n.community,s=n.coord,this.renderMap(i,s);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkFavorite",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(g.b)()){e.next=10;break}return t=this.props.match.params.id,e.next=5,y.a.get("/user/favorites/".concat(t));case 5:a=e.sent,n=a.data,i=n.status,s=n.body,200===i&&this.setState({isFavorite:s.isFavorite}),e.next=11;break;case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getHouseDetail(),this.checkFavorite()}},{key:"renderSwipers",value:function(){return this.state.houseInfo.houseImg.map((function(e){return Object(k.jsx)("img",{src:x.a+e,alt:"\u623f\u5c4b\u56fe\u7247"},e)}))}},{key:"renderMap",value:function(e,t){var a=t.longitude,n=t.latitude,i=new D.Map("map"),s=new D.Point(a,n);i.centerAndZoom(s,17),i.addControl(new D.ZoomControl);var r=new D.Label("",{position:s,offset:new D.Size(0,0)});r.setContent('\n            <div class="'.concat(H.a.rect,'">\n                <span class="').concat(H.a.housename,'">').concat(e,'</span>\n                <i class="').concat(H.a.arrow,'"></i>\n            </div>\n        ')),r.setStyle(w),i.addOverlay(r)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.houseInfo,n=a.community,s=a.title,c=a.tags,o=a.price,l=a.roomType,u=a.size,d=a.floor,f=a.oriented,j=a.supporting,m=a.description,h=e.isFavorite;return Object(k.jsxs)("div",{className:H.a.root,children:[Object(k.jsx)(v.a,{className:H.a.navHeader,rightContent:[Object(k.jsx)("i",{className:"iconfont icon-share",onClick:this.closed},"share")],children:n}),Object(k.jsx)("div",{className:H.a.slides,children:t?null:Object(k.jsx)(r.a,{autoplay:!0,infinite:!0,autoplayInterval:2e3,children:this.renderSwipers()})}),Object(k.jsxs)("div",{className:H.a.info,children:[Object(k.jsx)("h3",{className:H.a.infoTitle,children:s}),Object(k.jsx)(i.a,{className:H.a.infoTags,children:Object(k.jsx)(i.a.Item,{children:c.map((function(e,t){return Object(k.jsx)("span",{className:[H.a.tag,H.a.tags,H.a["tag"+(t%4+1)]].join(" "),children:e},e)}))})}),Object(k.jsxs)(i.a,{className:H.a.infoPrice,children:[Object(k.jsxs)(i.a.Item,{className:H.a.infoPriceItem,children:[Object(k.jsxs)("div",{children:[o,Object(k.jsx)("span",{className:H.a.month,children:"/\u6708"})]}),Object(k.jsx)("div",{children:"\u79df\u91d1"})]}),Object(k.jsxs)(i.a.Item,{className:H.a.infoPriceItem,children:[Object(k.jsx)("div",{children:l}),Object(k.jsx)("div",{children:"\u623f\u578b"})]}),Object(k.jsxs)(i.a.Item,{className:H.a.infoPriceItem,children:[Object(k.jsxs)("div",{children:[u,"\u5e73\u65b9"]}),Object(k.jsx)("div",{children:"\u9762\u79ef"})]})]}),Object(k.jsxs)(i.a,{className:H.a.infoBasic,align:"start",children:[Object(k.jsxs)(i.a.Item,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u88c5\u4fee\uff1a"}),"\u7cbe\u88c5"]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u697c\u5c42\uff1a"}),d]})]}),Object(k.jsxs)(i.a.Item,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u671d\u5411\uff1a"}),f.join("\u3001")]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:H.a.title,children:"\u7c7b\u578b\uff1a"}),"\u666e\u901a\u4f4f\u5b85"]})]})]})]}),Object(k.jsxs)("div",{className:H.a.map,children:[Object(k.jsxs)("div",{className:H.a.mapTitle,children:["\u5c0f\u533a\uff1a",Object(k.jsx)("span",{children:s})]}),Object(k.jsx)("div",{className:H.a.mapContainer,id:"map",children:"\u5730\u56fe"})]}),Object(k.jsxs)("div",{className:H.a.about,children:[Object(k.jsx)("div",{className:H.a.houseTitle,children:"\u623f\u5c4b\u914d\u5957"}),0===j.length?Object(k.jsx)("div",{className:H.a.titleEmpty,children:"\u6682\u65e0\u6570\u636e"}):Object(k.jsx)(O.a,{list:j})]}),Object(k.jsxs)("div",{className:H.a.set,children:[Object(k.jsx)("div",{className:H.a.houseTitle,children:"\u623f\u5c4b\u6982\u51b5"}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:H.a.contact,children:[Object(k.jsxs)("div",{className:H.a.user,children:[Object(k.jsx)("img",{src:x.a+"/img/avatar.png",alt:"\u5934\u50cf"}),Object(k.jsxs)("div",{className:H.a.userInfo,children:[Object(k.jsx)("div",{children:"\u5f20\u5973\u58eb"}),Object(k.jsxs)("div",{className:H.a.userAuth,children:[Object(k.jsx)("i",{className:"iconfont icon-auth"}),"\u5df2\u8ba4\u8bc1\u623f\u4e3b"]})]})]}),Object(k.jsx)("span",{className:H.a.userMsg,children:"\u53d1\u6d88\u606f"})]}),Object(k.jsx)("div",{className:H.a.descText,children:m||"\u6682\u65e0\u623f\u5c4b\u6570\u636e"})]})]}),Object(k.jsxs)("div",{className:H.a.buttons,children:[Object(k.jsxs)("span",{className:H.a.favorite,onClick:this.handleFavorite,children:[Object(k.jsx)("img",{src:x.a+(h?"/img/star.png":"/img/unstar.png"),alt:"\u6536\u85cf"}),h?"\u5df2\u6536\u85cf":"\u6536\u85cf"]}),Object(k.jsx)("span",{className:H.a.consult,onClick:this.closed,children:"\u5728\u7ebf\u54a8\u8be2"}),Object(k.jsx)("span",{className:H.a.reserve,children:Object(k.jsx)("a",{href:"tel: 183614999905",children:"\u7535\u8bdd\u9884\u5b9a"})})]})]})}}]),a}(_.Component)}}]);
//# sourceMappingURL=12.345e6d44.chunk.js.map