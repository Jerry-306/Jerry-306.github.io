(this.webpackJsonpzufang=this.webpackJsonpzufang||[]).push([[19],{209:function(e,t,n){"use strict";n(211);var r=n(212),a=n.n(r),c=(n(0),n(7)),i=n(210),s=n.n(i),o=n(1);t.a=Object(c.g)((function(e){var t=e.children,n=e.className,r=e.history,c=e.rightContent,i=e.onLeftClick;return Object(o.jsx)("div",{children:Object(o.jsx)(a.a,{className:[s.a.navbar,n||""].join(" "),mode:"light",icon:Object(o.jsx)("i",{className:"iconfont icon-back"}),onLeftClick:i||function(){return r.goBack()},rightContent:c,children:t})})}))},210:function(e,t,n){e.exports={navbar:"MyNavBar_navbar__1MYpP"}},211:function(e,t,n){"use strict";n(21),n(213)},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),a=u(n(3)),c=u(n(6)),i=u(n(4)),s=u(n(5)),o=u(n(17)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},d=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,a=e.children,c=e.mode,i=e.icon,s=e.onLeftClick,u=e.leftContent,d=e.rightContent,h=f(e,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,r.default)({},h,{className:(0,o.default)(n,t,t+"-"+c)}),l.createElement("div",{className:t+"-left",role:"button",onClick:s},i?l.createElement("span",{className:t+"-left-icon","aria-hidden":"true"},i):null,u),l.createElement("div",{className:t+"-title"},a),l.createElement("div",{className:t+"-right"},d))}}]),t}(l.Component);t.default=d,d.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},e.exports=t.default},213:function(e,t,n){},341:function(e,t,n){},510:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(22),a=n(16),c=n(13),i=n.n(c),s=n(0),o=n(326),l=n(209),u=n(75),f=n(36),d=(n(341),n(1));function h(e){var t,n={};return e.forEach((function(e){var t=e.short.substr(0,1);n[t]?n[t].push(e):n[t]=[e]})),t=Object.keys(n).sort(),{cityList:n,cityIndex:t}}function b(e){switch(e){case"#":return"\u5f53\u524d\u5b9a\u4f4d";case"hot":return"\u70ed\u95e8\u57ce\u5e02";default:return e.toUpperCase()}}function j(e){var t=Object(s.useState)({}),n=Object(a.a)(t,2),c=n[0],j=n[1],v=Object(s.useState)([]),p=Object(a.a)(v,2),O=p[0],m=p[1],y=Object(s.useState)(0),x=Object(a.a)(y,2),g=x[0],C=x[1],N=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var t,n,r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/area/city?level=1");case 2:return t=e.sent,n=h(t.data.body),r=n.cityList,a=n.cityIndex,e.next=6,f.a.get("/area/hot");case 6:return c=e.sent,r.hot=c.data.body,a.unshift("hot"),e.next=11,Object(u.a)();case 11:s=e.sent,r["#"]=[s],a.unshift("#"),j(r),m(a),N.current.measureAllRows();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var k=function(e){var t=e.key,n=e.index,r=e.style,a=O[n];return Object(d.jsxs)("div",{style:r,className:"city",children:[Object(d.jsx)("div",{className:"title",children:b(a)}),c[a].map((function(e){return Object(d.jsx)("div",{className:"name",onClick:function(){return P(e)},children:e.label},e.value)}))]},t)},w=function(e){var t=e.startIndex;t!==g&&C(t)},_=function(e){var t=e.index;return 36+50*c[O[t]].length},P=function(t){var n=t.label,r=t.value;localStorage.setItem("zfy_city",JSON.stringify({label:n,value:r})),e.history.goBack()};return Object(d.jsxs)("div",{className:"citylist",children:[Object(d.jsx)(l.a,{children:"\u57ce\u5e02\u9009\u62e9"}),Object(d.jsx)(o.a,{children:function(e){var t=e.width,n=e.height;return Object(d.jsx)(o.c,{ref:N,width:t,height:n,rowCount:O.length,rowHeight:_,rowRenderer:k,onRowsRendered:w,scrollToAlignment:"start"})}}),Object(d.jsx)("ul",{className:"city-index",children:O.map((function(e,t){return Object(d.jsx)("li",{className:"city-index-item",onClick:function(){N.current.scrollToRow(t)},children:Object(d.jsx)("span",{className:g===t?"index-active":"",children:"hot"===e?"\u70ed":e.toUpperCase()})},e)}))})]})}}}]);
//# sourceMappingURL=19.f050eb51.chunk.js.map