{"version":3,"sources":["components/MyNavBar/index.jsx","components/MyNavBar/index.module.css","components/FilterFooter/index.jsx","components/HousePackage/index.jsx","components/HousePackage/index.module.css","components/FilterFooter/index.module.css","pages/Rent/Add/index.module.css","pages/Rent/Add/index.jsx"],"names":["withRouter","children","className","history","rightContent","onLeftClick","styles","navbar","join","mode","icon","goBack","module","exports","FilterFooter","cancelText","okText","onCancel","onOk","root","btn","cancel","onClick","ok","HOUSE_PACKAGE","id","name","HousePackage","list","select","onSelect","useState","selectedNames","setSelectedNames","filter","item","includes","map","isActive","active","newSelectedNames","index","indexOf","splice","toggleSelect","Item","floorData","label","value","roomTypeData","orientedData","alert","RentAdd","props","state","location","community","tempSlides","settempSlides","title","settitle","price","setprice","roomType","setroomType","size","setsize","oriented","setoriented","floor","setfloor","supporting","setsupporting","description","setdescription","text","onPress","getValue","renderHeader","arrow","extra","push","placeholder","type","onChange","val","data","cols","files","multiple","imagePicker","selectedVlalues","rows","buttons","a","loading","houseImg","length","form","FormData","forEach","append","file","API","post","headers","res","body","hide","status","info"],"mappings":"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","file":"static/js/17.de0fd55c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { NavBar } from \"antd-mobile\";\r\nimport styles from \"./index.module.css\";\r\n\r\nfunction MyNavBar({ \r\n  children,\r\n  className,\r\n  history,\r\n  rightContent,\r\n  onLeftClick \r\n}) {\r\n  // 默认点击返回按钮事件\r\n  const defaultClick = () => history.goBack();\r\n  return (\r\n    <div>\r\n      <NavBar\r\n        className={[styles.navbar, className || \"\"].join(\" \")}\r\n        mode=\"light\"\r\n        icon={<i className=\"iconfont icon-back\" />}\r\n        onLeftClick={onLeftClick || defaultClick}\r\n        rightContent={rightContent}\r\n      >\r\n        {children}\r\n      </NavBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(MyNavBar);\r\n/* \r\n此组件用于封装顶部导航栏\r\n只有路由组件才有history 等API\r\n于是， 利用 withRouter（）函数 包裹一般组件，就可以把一般组件变成路由组件 \r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"MyNavBar_navbar__2081X\"};","import React from \"react\";\r\nimport { Flex } from \"antd-mobile\";\r\nimport styles from \"./index.module.css\";\r\n\r\nexport default function FilterFooter({\r\n  cancelText,\r\n  okText,\r\n  onCancel,\r\n  onOk,\r\n  className,\r\n}) {\r\n  return (\r\n    <Flex className={[styles.root, className || \"\"].join(\" \")}>\r\n      {/* 取消按钮 */}\r\n      <span\r\n        className={[styles.btn, styles.cancel].join(\" \")}\r\n        onClick={onCancel}\r\n      >\r\n        {cancelText ? cancelText : \"取消\"}\r\n      </span>\r\n\r\n      {/* 确定按钮 */}\r\n      <span className={[styles.btn, styles.ok].join(\" \")} onClick={onOk}>\r\n        {okText ? okText : \"确定\"}\r\n      </span>\r\n    </Flex>\r\n  );\r\n}\r\n","// 房屋配置组件（热水器、洗衣机……）\r\nimport React, { useState } from \"react\";\r\nimport styles from \"./index.module.css\";\r\n\r\nconst HOUSE_PACKAGE = [\r\n  {\r\n    id: 1,\r\n    name: \"衣柜\",\r\n    icon: \"icon-wardrobe\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"洗衣机\",\r\n    icon: \"icon-wash\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"空调\",\r\n    icon: \"icon-air\",\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"天然气\",\r\n    icon: \"icon-gas\",\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"冰箱\",\r\n    icon: \"icon-ref\",\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"暖气\",\r\n    icon: \"icon-Heat\",\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"电视\",\r\n    icon: \"icon-vid\",\r\n  },\r\n  {\r\n    id: 8,\r\n    name: \"热水器\",\r\n    icon: \"icon-heater\",\r\n  },\r\n  {\r\n    id: 9,\r\n    name: \"宽带\",\r\n    icon: \"icon-broadband\",\r\n  },\r\n  {\r\n    id: 10,\r\n    name: \"沙发\",\r\n    icon: \"icon-sofa\",\r\n  },\r\n];\r\n\r\nexport default function HousePackage({ list, select, onSelect = () => {} }) {\r\n  const [selectedNames, setSelectedNames] = useState([]);\r\n  // 根据id判断选中状态\r\n  const toggleSelect = (name) => {\r\n    let newSelectedNames = [];\r\n    if (selectedNames.includes(name)) {\r\n      let index = selectedNames.indexOf(name);\r\n      selectedNames.splice(index, 1);\r\n      newSelectedNames = selectedNames;\r\n    } else {\r\n      newSelectedNames = [...selectedNames, name];\r\n    }\r\n\r\n    // 将数据传递给父组件\r\n    onSelect(newSelectedNames);\r\n    setSelectedNames(newSelectedNames);\r\n  };\r\n\r\n  const renderItems = () => {\r\n    if (list) {\r\n      const values = HOUSE_PACKAGE.filter((item) => list.includes(item.name));\r\n      return values.map((item) => {\r\n        return (\r\n          <div key={item.id} className={styles.item}>\r\n            <i className={[\"iconfont\", styles.icon, item.icon].join(\" \")} />\r\n            {item.name}\r\n          </div>\r\n        );\r\n      });\r\n    } else if (select) {\r\n      return HOUSE_PACKAGE.map((item) => {\r\n        const isActive = selectedNames.includes(item.name);\r\n        return (\r\n          <div\r\n            key={item.id}\r\n            className={[styles.item, isActive ? styles.active : \"\"].join(\" \")}\r\n            onClick={() => toggleSelect(item.name)}\r\n          >\r\n            <i className={[\"iconfont\", styles.icon, item.icon].join(\" \")} />\r\n            {item.name}\r\n          </div>\r\n        );\r\n      });\r\n    } else {\r\n      return \"啥也没传递\";\r\n    }\r\n  };\r\n  return <div className={styles.root}>{renderItems()}</div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HousePackage_root__2ajy1\",\"item\":\"HousePackage_item__3d1y5\",\"icon\":\"HousePackage_icon__10sp8\",\"active\":\"HousePackage_active__3KojK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterFooter_root__28I6t\",\"btn\":\"FilterFooter_btn__31uMw\",\"cancel\":\"FilterFooter_cancel__2BU2d\",\"ok\":\"FilterFooter_ok__3IUZi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Add_root__-HxPy\",\"buttons\":\"Add_buttons__3LGmB\"};","import React, { useState } from \"react\";\r\nimport {\r\n  List,\r\n  InputItem,\r\n  Picker,\r\n  ImagePicker,\r\n  TextareaItem,\r\n  Modal,\r\n  Toast,\r\n} from \"antd-mobile\";\r\nimport HousePackage from \"../../../components/HousePackage\";\r\nimport MyNavBar from \"../../../components/MyNavBar\";\r\nimport FilterFooter from \"../../../components/FilterFooter\";\r\nimport API from \"../../../utils/api\";\r\nimport styles from \"./index.module.css\";\r\n\r\nconst Item = List.Item;\r\n\r\nconst floorData = [\r\n  { label: \"高楼层\", value: \"FLOOR|1\" },\r\n  { label: \"中楼层\", value: \"FLOOR|2\" },\r\n  { label: \"低楼层\", value: \"FLOOR|3\" },\r\n];\r\nconst roomTypeData = [\r\n  { label: \"一室\", value: \"ROOM|d4a692e4-a177-37fd\" },\r\n  { label: \"二室\", value: \"ROOM|d1a00384-5801-d5cd\" },\r\n  { label: \"三室\", value: \"ROOM|20903ae0-c7bc-f2e2\" },\r\n  { label: \"四室\", value: \"ROOM|ce2a5daa-811d-2f49\" },\r\n  { label: \"四室+\", value: \"ROOM|2731c38c-5b19-ff7f\" },\r\n];\r\nconst orientedData = [\r\n  { label: \"东\", value: \"ORIEN|141b98bf-1ad0-11e3\" },\r\n  { label: \"西\", value: \"ORIEN|103fb3aa-e8b4-de0e\" },\r\n  { label: \"南\", value: \"ORIEN|61e99445-e95e-7f37\" },\r\n  { label: \"北\", value: \"ORIEN|caa6f80b-b764-c2df\" },\r\n  { label: \"东南\", value: \"ORIEN|dfb1b36b-e0d1-0977\" },\r\n  { label: \"东北\", value: \"ORIEN|67ac2205-7e0f-c057\" },\r\n  { label: \"西南\", value: \"ORIEN|2354e89e-3918-9cef\" },\r\n  { label: \"西北\", value: \"ORIEN|80795f1a-e32f-feb9\" },\r\n];\r\n\r\nconst alert = Modal.alert;\r\nexport default function RentAdd(props) {\r\n  const { state } = props.location;\r\n  let community = {\r\n    name: \"\",\r\n    id: \"\",\r\n  };\r\n  if (state) {\r\n    community.name = state.name;\r\n    community.id = state.id;\r\n  }\r\n\r\n  const [tempSlides, settempSlides] = useState([]);\r\n  const [title, settitle] = useState(\"\");\r\n  const [price, setprice] = useState(\"\");\r\n  const [roomType, setroomType] = useState(\"\");\r\n  const [size, setsize] = useState(\"\");\r\n  const [oriented, setoriented] = useState([]);\r\n  const [floor, setfloor] = useState(\"\");\r\n  const [supporting, setsupporting] = useState(\"\");\r\n  const [description, setdescription] = useState(\"\");\r\n\r\n  const onCancel = () => {\r\n    alert(\"提示\", \"确定退出吗？\", [\r\n      { text: \"取消\" },\r\n      { text: \"确定\", onPress: () => props.history.goBack() },\r\n    ]);\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    alert(\"提示\", \"确定发布吗？\", [\r\n      { text: \"取消\" },\r\n      {\r\n        text: \"确定\",\r\n        onPress: async () => {\r\n          Toast.loading(\"请稍等\", 0, null, false);\r\n          // 处理图片数据\r\n          let houseImg = \"\";\r\n          if (tempSlides.length > 0) {\r\n            const form = new FormData();\r\n            tempSlides.forEach((item) => form.append(\"file\", item.file));\r\n\r\n            const res = await API.post(\"/houses/image\", form, {\r\n              headers: {\r\n                \"content-type\": \"multipart/form-data\",\r\n              },\r\n            });\r\n            houseImg = res.data.body.join(\"|\");\r\n          }\r\n          Toast.hide();\r\n          // 调用接口，发布房源\r\n          const res = await API.post(\"/user/houses\", {\r\n            title,\r\n            description,\r\n            oriented,\r\n            supporting,\r\n            houseImg,\r\n            community: community.id,\r\n            price,\r\n            roomType,\r\n            size,\r\n            floor,\r\n          });\r\n\r\n          if (res.data.status === 200) {\r\n            Toast.info(\"发布成功！\", 2, null, false);\r\n            props.history.push(\"/rent\");\r\n          } else {\r\n            Toast.info(\"服务器开小差了，请稍后再试\", 2, null, false);\r\n          }\r\n        },\r\n      },\r\n    ]);\r\n  };\r\n\r\n  // 获取表单数据\r\n  const getValue = (name, value) => {\r\n    switch (name) {\r\n      case \"price\":\r\n        setprice(value);\r\n        break;\r\n      case \"size\":\r\n        setsize(value);\r\n        break;\r\n      case \"roomType\":\r\n        setroomType(value);\r\n        break;\r\n      case \"floor\":\r\n        setfloor(value);\r\n        break;\r\n      case \"oriented\":\r\n        setoriented(value);\r\n        break;\r\n      case \"title\":\r\n        settitle(value);\r\n        break;\r\n      case \"description\":\r\n        setdescription(value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  // 获取图片数据\r\n  const handleHouseImg = (files) => {\r\n    settempSlides(files);\r\n  };\r\n\r\n  // 获取房屋配置数据\r\n  const handleSupporting = (selectedVlalues) => {\r\n    setsupporting(selectedVlalues.join(\"|\"));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <MyNavBar onLeftClick={onCancel}>发布房源</MyNavBar>\r\n\r\n      <List renderHeader={() => \"房屋信息\"}>\r\n        <Item\r\n          arrow=\"horizontal\"\r\n          extra={community.name || \"请输入小区名称\"}\r\n          onClick={() => props.history.push(\"/rent/search\")}\r\n        >\r\n          小区名称\r\n        </Item>\r\n\r\n        <InputItem\r\n          placeholder=\"请输入每月租金\"\r\n          extra=\"￥/月\"\r\n          type=\"number\"\r\n          value={price}\r\n          onChange={(val) => getValue(\"price\", val)}\r\n        >\r\n          每月租金\r\n        </InputItem>\r\n\r\n        <InputItem\r\n          placeholder=\"请输入建筑面积\"\r\n          extra=\"㎡\"\r\n          type=\"number\"\r\n          value={size}\r\n          onChange={(val) => getValue(\"size\", val)}\r\n        >\r\n          建筑面积\r\n        </InputItem>\r\n\r\n        <Picker\r\n          data={roomTypeData}\r\n          value={[roomType]}\r\n          cols={1}\r\n          onChange={(val) => getValue(\"roomType\", val[0])}\r\n        >\r\n          <Item arrow=\"horizontal\">\r\n            户&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;型\r\n          </Item>\r\n        </Picker>\r\n\r\n        <Picker\r\n          data={floorData}\r\n          value={[floor]}\r\n          cols={1}\r\n          onChange={(val) => getValue(\"floor\", val[0])}\r\n        >\r\n          <Item arrow=\"horizontal\">所在楼层</Item>\r\n        </Picker>\r\n\r\n        <Picker\r\n          data={orientedData}\r\n          value={[oriented]}\r\n          cols={1}\r\n          onChange={(val) => getValue(\"oriented\", val[0])}\r\n        >\r\n          <Item arrow=\"horizontal\">\r\n            朝&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;向\r\n          </Item>\r\n        </Picker>\r\n      </List>\r\n\r\n      <List renderHeader={() => \"房屋标题\"}>\r\n        <InputItem\r\n          placeholder=\"请输入房屋标题（例如：合租 小区名 3室 2000元）\"\r\n          value={title}\r\n          onChange={(val) => getValue(\"title\", val)}\r\n        ></InputItem>\r\n      </List>\r\n\r\n      <List renderHeader={() => \"房屋图像\"}>\r\n        <ImagePicker\r\n          files={tempSlides}\r\n          multiple={true}\r\n          onChange={handleHouseImg}\r\n          className={styles.imagePicker}\r\n        />\r\n      </List>\r\n\r\n      <List renderHeader={() => \"房屋配置\"} className={styles.supporting}>\r\n        <HousePackage select={true} onSelect={handleSupporting} />\r\n      </List>\r\n\r\n      <List renderHeader={() => \"房屋描述\"}>\r\n        <TextareaItem\r\n          rows={5}\r\n          placeholder=\"请输入房屋描述信息\"\r\n          value={description}\r\n          onChange={(val) => getValue(\"description\", val)}\r\n        />\r\n      </List>\r\n\r\n      <FilterFooter\r\n        className={styles.buttons}\r\n        cancelText=\"取消\"\r\n        okText=\"提交\"\r\n        onCancel={onCancel}\r\n        onOk={onSubmit}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}