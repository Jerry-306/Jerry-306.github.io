{"version":3,"sources":["components/MyNavBar/index.jsx","components/MyNavBar/index.module.css","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/HousePackage/index.jsx","components/HousePackage/index.module.css","pages/HouseDetail/index.module.css","pages/HouseDetail/index.jsx"],"names":["withRouter","children","className","history","rightContent","onLeftClick","styles","navbar","join","mode","icon","goBack","module","exports","require","Object","defineProperty","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","NavBar","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_a","props","prefixCls","leftContent","restProps","createElement","role","onClick","Component","defaultProps","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","HOUSE_PACKAGE","id","name","HousePackage","list","select","onSelect","useState","selectedNames","setSelectedNames","root","filter","item","includes","map","isActive","active","newSelectedNames","index","splice","toggleSelect","BMapGL","window","labelStyle","cursor","border","padding","whiteSpace","fontSize","color","textAlign","alert","houseImg","title","tags","price","roomType","size","oriented","floor","community","coord","latitude","longitude","supporting","houseCode","description","HouseDetail","isFavorite","setisFavorite","isLoading","setisLoading","homeInfo","sethomeInfo","closed","info","useEffect","getHouseDetail","a","match","params","API","get","res","data","body","renderMap","checkFavorite","isAuth","status","scrollTo","Map","point","Point","centerAndZoom","addControl","ZoomControl","label","Label","position","offset","Size","setContent","rect","housename","arrow","setStyle","addOverlay","handleFavorite","isLogin","location","delete","post","text","onPress","push","navHeader","slides","autoplay","infinite","autoplayInterval","src","BASE_URL","alt","infoTitle","infoTags","Item","tag","infoPrice","infoPriceItem","month","infoBasic","align","mapTitle","mapContainer","about","houseTitle","titleEmpty","set","contact","user","userInfo","userAuth","userMsg","descText","buttons","favorite","consult","reserve","href"],"mappings":"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","file":"static/js/15.34e81f62.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { NavBar } from \"antd-mobile\";\r\nimport styles from \"./index.module.css\";\r\n\r\nfunction MyNavBar({ \r\n  children,\r\n  className,\r\n  history,\r\n  rightContent,\r\n  onLeftClick \r\n}) {\r\n  // 默认点击返回按钮事件\r\n  const defaultClick = () => history.goBack();\r\n  return (\r\n    <div>\r\n      <NavBar\r\n        className={[styles.navbar, className || \"\"].join(\" \")}\r\n        mode=\"light\"\r\n        icon={<i className=\"iconfont icon-back\" />}\r\n        onLeftClick={onLeftClick || defaultClick}\r\n        rightContent={rightContent}\r\n      >\r\n        {children}\r\n      </NavBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(MyNavBar);\r\n/* \r\n此组件用于封装顶部导航栏\r\n只有路由组件才有history 等API\r\n于是， 利用 withRouter（）函数 包裹一般组件，就可以把一般组件变成路由组件 \r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"MyNavBar_navbar__1MYpP\"};","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// 房屋配置组件（热水器、洗衣机……）\r\nimport React, { useState } from \"react\";\r\nimport styles from \"./index.module.css\";\r\n\r\nconst HOUSE_PACKAGE = [\r\n  {\r\n    id: 1,\r\n    name: \"衣柜\",\r\n    icon: \"icon-wardrobe\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"洗衣机\",\r\n    icon: \"icon-wash\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"空调\",\r\n    icon: \"icon-air\",\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"天然气\",\r\n    icon: \"icon-gas\",\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"冰箱\",\r\n    icon: \"icon-ref\",\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"暖气\",\r\n    icon: \"icon-Heat\",\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"电视\",\r\n    icon: \"icon-vid\",\r\n  },\r\n  {\r\n    id: 8,\r\n    name: \"热水器\",\r\n    icon: \"icon-heater\",\r\n  },\r\n  {\r\n    id: 9,\r\n    name: \"宽带\",\r\n    icon: \"icon-broadband\",\r\n  },\r\n  {\r\n    id: 10,\r\n    name: \"沙发\",\r\n    icon: \"icon-sofa\",\r\n  },\r\n];\r\n\r\nexport default function HousePackage({ list, select, onSelect = () => {} }) {\r\n  const [selectedNames, setSelectedNames] = useState([]);\r\n  // 根据id判断选中状态\r\n  const toggleSelect = (name) => {\r\n    let newSelectedNames = [];\r\n    if (selectedNames.includes(name)) {\r\n      let index = selectedNames.indexOf(name);\r\n      selectedNames.splice(index, 1);\r\n      newSelectedNames = selectedNames;\r\n    } else {\r\n      newSelectedNames = [...selectedNames, name];\r\n    }\r\n\r\n    // 将数据传递给父组件\r\n    onSelect(newSelectedNames);\r\n    setSelectedNames(newSelectedNames);\r\n  };\r\n\r\n  const renderItems = () => {\r\n    if (list) {\r\n      const values = HOUSE_PACKAGE.filter((item) => list.includes(item.name));\r\n      return values.map((item) => {\r\n        return (\r\n          <div key={item.id} className={styles.item}>\r\n            <i className={[\"iconfont\", styles.icon, item.icon].join(\" \")} />\r\n            {item.name}\r\n          </div>\r\n        );\r\n      });\r\n    } else if (select) {\r\n      return HOUSE_PACKAGE.map((item) => {\r\n        const isActive = selectedNames.includes(item.name);\r\n        return (\r\n          <div\r\n            key={item.id}\r\n            className={[styles.item, isActive ? styles.active : \"\"].join(\" \")}\r\n            onClick={() => toggleSelect(item.name)}\r\n          >\r\n            <i className={[\"iconfont\", styles.icon, item.icon].join(\" \")} />\r\n            {item.name}\r\n          </div>\r\n        );\r\n      });\r\n    } else {\r\n      return \"啥也没传递\";\r\n    }\r\n  };\r\n  return <div className={styles.root}>{renderItems()}</div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HousePackage_root__3aXgU\",\"item\":\"HousePackage_item__28u4b\",\"icon\":\"HousePackage_icon__2uyhd\",\"active\":\"HousePackage_active__CakOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HouseDetail_root__2Ds_F\",\"navHeader\":\"HouseDetail_navHeader__3lSK_\",\"slides\":\"HouseDetail_slides__GfNjp\",\"info\":\"HouseDetail_info__AbNGz\",\"infoTitle\":\"HouseDetail_infoTitle__cDBex\",\"tags\":\"HouseDetail_tags__vUO8a\",\"tag\":\"HouseDetail_tag__31gTO\",\"tag1\":\"HouseDetail_tag1__1mwvG\",\"tag2\":\"HouseDetail_tag2__1_gow\",\"tag3\":\"HouseDetail_tag3__B55u2\",\"tag4\":\"HouseDetail_tag4__3y-b4\",\"infoPrice\":\"HouseDetail_infoPrice__t42-m\",\"infoPriceItem\":\"HouseDetail_infoPriceItem__8uSDr\",\"month\":\"HouseDetail_month__2kzcN\",\"infoBasic\":\"HouseDetail_infoBasic__2gm1T\",\"title\":\"HouseDetail_title__10q_K\",\"map\":\"HouseDetail_map__z70DG\",\"mapTitle\":\"HouseDetail_mapTitle__1wNvH\",\"mapContainer\":\"HouseDetail_mapContainer__1emM5\",\"rect\":\"HouseDetail_rect__3hXXd\",\"arrow\":\"HouseDetail_arrow__PUMSg\",\"housename\":\"HouseDetail_housename__263B2\",\"about\":\"HouseDetail_about__1um_8\",\"titleEmpty\":\"HouseDetail_titleEmpty__1ta0B\",\"set\":\"HouseDetail_set__3x1FP\",\"houseTitle\":\"HouseDetail_houseTitle__cwrox\",\"contact\":\"HouseDetail_contact__3Tvf1\",\"user\":\"HouseDetail_user__3aXn9\",\"userInfo\":\"HouseDetail_userInfo__2aOwa\",\"userAuth\":\"HouseDetail_userAuth__2Fyoe\",\"userMsg\":\"HouseDetail_userMsg__3kRxu\",\"descText\":\"HouseDetail_descText__gtn-z\",\"buttons\":\"HouseDetail_buttons__IAVdm\",\"favorite\":\"HouseDetail_favorite__72qb8\",\"consult\":\"HouseDetail_consult__1ojz5\",\"reserve\":\"HouseDetail_reserve__2Yj5A\"};","import React, { useState, useEffect } from \"react\";\r\nimport { Carousel, Flex, Modal, Toast } from \"antd-mobile\";\r\nimport MyNavBar from \"../../components/MyNavBar\";\r\nimport HousePackage from \"../../components/HousePackage\";\r\nimport { BASE_URL } from \"../../utils/url\";\r\nimport { isAuth } from \"../../utils/auth\";\r\nimport API from \"../../utils/api\";\r\nimport styles from \"./index.module.css\";\r\n\r\nconst BMapGL = window.BMapGL;\r\n// 覆盖物样式\r\nconst labelStyle = {\r\n  cursor: \"pointer\",\r\n  border: \"0px solid rgb(255, 0, 0)\",\r\n  padding: \"0px\",\r\n  whiteSpace: \"nowrap\",\r\n  fontSize: \"14px\",\r\n  color: \"rgb(255, 255, 255)\",\r\n  textAlign: \"center\",\r\n};\r\n\r\nconst alert = Modal.alert;\r\n\r\nconst obj = {\r\n    houseImg: [],\r\n    title: '',\r\n    tags: [],\r\n    price: 0,\r\n    // 房型\r\n    roomType: '',\r\n    // 房屋面积\r\n    size: 0,\r\n    // 朝向\r\n    oriented: [],\r\n    // 楼层\r\n    floor: '',\r\n    // 小区名称\r\n    community: '',\r\n    // 地理位置\r\n    coord: {\r\n        latitude: '39.928033',\r\n        longitude: '116.529466'\r\n    },\r\n    // 房屋配套\r\n    supporting: [],\r\n    // 房屋标识\r\n    houseCode: '',\r\n    // 房屋描述\r\n    description: ''\r\n}\r\n\r\nexport default function HouseDetail(props) {\r\n  const [isFavorite, setisFavorite] = useState(false);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [homeInfo, sethomeInfo] = useState(obj);\r\n  // 功能已关闭\r\n  const closed = () => {\r\n    Toast.info(\"暂未开通该功能\", 2, null, false);\r\n  };\r\n\r\n  // 获取房屋详情数据\r\n  useEffect(() => {\r\n    const getHouseDetail = async () => {\r\n      const { id } = props.match.params;\r\n      setisLoading(true);\r\n      const res = await API.get(`/houses/${id}`);\r\n      sethomeInfo(res.data.body);\r\n      setisLoading(false);\r\n      // 获取数据，渲染地图\r\n      const { community, coord } = res.data.body;\r\n      renderMap(community, coord);\r\n    };\r\n    getHouseDetail();\r\n  }, []);\r\n\r\n  // 检查收藏状态\r\n  useEffect(() => {\r\n    const checkFavorite = async () => {\r\n      const isLogin = isAuth();\r\n      if (isLogin) {\r\n        // 从路由参数中获取房屋id\r\n        const { id } = props.match.params;\r\n        // 查询房屋是否被收藏\r\n        const res = await API.get(`/user/favorites/${id}`);\r\n\r\n        const { status, body } = res.data;\r\n        if (status === 200) {\r\n          // 请求成功\r\n          setisFavorite(body.isFavorite);\r\n        }\r\n      } else {\r\n        return;\r\n      }\r\n    };\r\n    checkFavorite();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  // 渲染轮播图组件\r\n  const renderSwipers = () => {\r\n    const { houseImg } = homeInfo;\r\n    return houseImg.map((item) => (\r\n      <img key={item} src={BASE_URL + item} alt=\"房屋图片\" />\r\n    ));\r\n  };\r\n\r\n  // 渲染地图\r\n  const renderMap = (community, coord) => {\r\n    const { longitude, latitude } = coord;\r\n    const map = new BMapGL.Map(\"map\");\r\n    const point = new BMapGL.Point(longitude, latitude);\r\n    map.centerAndZoom(point, 17);\r\n    // 添加缩放控件\r\n    map.addControl(new BMapGL.ZoomControl());\r\n\r\n    // 创建覆盖物\r\n    const label = new BMapGL.Label(\"\", {\r\n      position: point,\r\n      offset: new BMapGL.Size(0, 0),\r\n    });\r\n\r\n    // 设置房源覆盖物内容\r\n    label.setContent(`\r\n            <div class=\"${styles.rect}\">\r\n                <span class=\"${styles.housename}\">${community}</span>\r\n                <i class=\"${styles.arrow}\"></i>\r\n            </div>\r\n        `);\r\n\r\n    // 设置样式\r\n    label.setStyle(labelStyle);\r\n\r\n    // 添加覆盖物到地图中\r\n    map.addOverlay(label);\r\n  };\r\n\r\n  // 收藏\r\n  const handleFavorite = async () => {\r\n    const isLogin = isAuth();\r\n    const { history, location, match } = props;\r\n\r\n    if (isLogin) {\r\n      // 已登录\r\n      const { id } = match.params;\r\n\r\n      if (isFavorite) {\r\n        // 取消收藏\r\n        const res = await API.delete(`/user/favorites/${id}`);\r\n        setisFavorite(false);\r\n        if (res.data.status === 200) {\r\n          Toast.info(\"已取消收藏\", 1, null, false);\r\n        } else {\r\n          Toast.info(\"请求超时，请稍后再试\", 2, null, false);\r\n        }\r\n      } else {\r\n        // 添加收藏\r\n        const res = await API.post(`/user/favorites/${id}`);\r\n\r\n        if (res.data.status === 200) {\r\n          Toast.info(\"收藏成功\", 1, null, false);\r\n          setisFavorite(true);\r\n        } else {\r\n          Toast.info(\"请求超时，请稍后再试\", 2, null, false);\r\n        }\r\n      }\r\n    } else {\r\n      // 未登录\r\n      return alert(\"提示\", \"该功能需要先登录，是否登录？\", [\r\n        { text: \"否\" },\r\n        {\r\n          text: \"是\",\r\n          onPress: () => history.push(\"/login\", { from: location }),\r\n        },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const {\r\n    community,\r\n    title,\r\n    tags,\r\n    price,\r\n    roomType,\r\n    size,\r\n    floor,\r\n    oriented,\r\n    supporting,\r\n    description,\r\n  } = homeInfo;\r\n  return (\r\n    <div className={styles.root}>\r\n      {/* 导航 */}\r\n      <MyNavBar\r\n        className={styles.navHeader}\r\n        rightContent={[\r\n          <i key=\"share\" className=\"iconfont icon-share\" onClick={closed} />,\r\n        ]}\r\n      >\r\n        {community}\r\n      </MyNavBar>\r\n\r\n      {/* 轮播图 */}\r\n      <div className={styles.slides}>\r\n        {!isLoading ? (\r\n          <Carousel autoplay infinite autoplayInterval={2000}>\r\n            {renderSwipers()}\r\n          </Carousel>\r\n        ) : null}\r\n      </div>\r\n\r\n      {/* 房屋基本信息 */}\r\n      <div className={styles.info}>\r\n        <h3 className={styles.infoTitle}>{title}</h3>\r\n        <Flex className={styles.infoTags}>\r\n          <Flex.Item>\r\n            {tags.map((item, index) => (\r\n              <span\r\n                key={item}\r\n                className={[\r\n                  styles.tag,\r\n                  styles.tags,\r\n                  styles[\"tag\" + ((index % 4) + 1)],\r\n                ].join(\" \")}\r\n              >\r\n                {item}\r\n              </span>\r\n            ))}\r\n          </Flex.Item>\r\n        </Flex>\r\n\r\n        <Flex className={styles.infoPrice}>\r\n          <Flex.Item className={styles.infoPriceItem}>\r\n            <div>\r\n              {price}\r\n              <span className={styles.month}>/月</span>\r\n            </div>\r\n            <div>租金</div>\r\n          </Flex.Item>\r\n          <Flex.Item className={styles.infoPriceItem}>\r\n            <div>{roomType}</div>\r\n            <div>房型</div>\r\n          </Flex.Item>\r\n          <Flex.Item className={styles.infoPriceItem}>\r\n            <div>{size}平方</div>\r\n            <div>面积</div>\r\n          </Flex.Item>\r\n        </Flex>\r\n\r\n        <Flex className={styles.infoBasic} align=\"start\">\r\n          <Flex.Item>\r\n            <div>\r\n              <span className={styles.title}>装修：</span>\r\n              精装\r\n            </div>\r\n            <div>\r\n              <span className={styles.title}>楼层：</span>\r\n              {floor}\r\n            </div>\r\n          </Flex.Item>\r\n          <Flex.Item>\r\n            <div>\r\n              <span className={styles.title}>朝向：</span>\r\n              {oriented.join(\"、\")}\r\n            </div>\r\n            <div>\r\n              <span className={styles.title}>类型：</span>\r\n              普通住宅\r\n            </div>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </div>\r\n\r\n      {/* 地图位置 */}\r\n      <div className={styles.map}>\r\n        <div className={styles.mapTitle}>\r\n          小区：\r\n          <span>{title}</span>\r\n        </div>\r\n        <div className={styles.mapContainer} id=\"map\">\r\n          地图\r\n        </div>\r\n      </div>\r\n\r\n      {/* 房屋配套 */}\r\n      <div className={styles.about}>\r\n        <div className={styles.houseTitle}>房屋配套</div>\r\n        {supporting.length === 0 ? (\r\n          <div className={styles.titleEmpty}>暂无数据</div>\r\n        ) : (\r\n          <HousePackage list={supporting} />\r\n        )}\r\n      </div>\r\n\r\n      {/* 房屋概况 */}\r\n      <div className={styles.set}>\r\n        <div className={styles.houseTitle}>房屋概况</div>\r\n        <div>\r\n          <div className={styles.contact}>\r\n            <div className={styles.user}>\r\n              <img src={BASE_URL + \"/img/avatar.png\"} alt=\"头像\" />\r\n              <div className={styles.userInfo}>\r\n                <div>张女士</div>\r\n                <div className={styles.userAuth}>\r\n                  <i className=\"iconfont icon-auth\" />\r\n                  已认证房主\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <span className={styles.userMsg}>发消息</span>\r\n          </div>\r\n          <div className={styles.descText}>{description || \"暂无房屋数据\"}</div>\r\n        </div>\r\n      </div>\r\n      {/* 底部按钮 */}\r\n      <div className={styles.buttons}>\r\n        <span className={styles.favorite} onClick={handleFavorite}>\r\n          <img\r\n            src={BASE_URL + (isFavorite ? \"/img/star.png\" : \"/img/unstar.png\")}\r\n            alt=\"收藏\"\r\n          />\r\n          {isFavorite ? \"已收藏\" : \"收藏\"}\r\n        </span>\r\n        <span className={styles.consult} onClick={closed}>\r\n          在线咨询\r\n        </span>\r\n        <span className={styles.reserve}>\r\n          <a href=\"tel: 183614999905\">电话预定</a>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}