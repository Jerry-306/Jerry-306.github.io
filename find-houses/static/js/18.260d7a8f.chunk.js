(this["webpackJsonpfind-houses"]=this["webpackJsonpfind-houses"]||[]).push([[18],{218:function(e,t,n){"use strict";n(221);var r=n(222),a=n.n(r),c=(n(0),n(8)),i=n(219),o=n.n(i),s=n(1);t.a=Object(c.g)((function(e){var t=e.children,n=e.className,r=e.history,c=e.rightContent,i=e.onLeftClick;return Object(s.jsx)("div",{children:Object(s.jsx)(a.a,{className:[o.a.navbar,n||""].join(" "),mode:"light",icon:Object(s.jsx)("i",{className:"iconfont icon-back"}),onLeftClick:i||function(){return r.goBack()},rightContent:c,children:t})})}))},219:function(e,t,n){e.exports={navbar:"MyNavBar_navbar__2081X"}},221:function(e,t,n){"use strict";n(20),n(224)},222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),a=u(n(3)),c=u(n(7)),i=u(n(4)),o=u(n(6)),s=u(n(10)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},d=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,a=e.children,c=e.mode,i=e.icon,o=e.onLeftClick,u=e.leftContent,d=e.rightContent,h=f(e,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,r.default)({},h,{className:(0,s.default)(n,t,t+"-"+c)}),l.createElement("div",{className:t+"-left",role:"button",onClick:o},i?l.createElement("span",{className:t+"-left-icon","aria-hidden":"true"},i):null,u),l.createElement("div",{className:t+"-title"},a),l.createElement("div",{className:t+"-right"},d))}}]),t}(l.Component);t.default=d,d.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},e.exports=t.default},224:function(e,t,n){},244:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return JSON.parse(localStorage.getItem("zfy_city"))}},347:function(e,t,n){},511:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));n(108);var r=n(48),a=n.n(r),c=n(24),i=n(19),o=n(16),s=n.n(o),l=n(0),u=n(333),f=n(218),d=n(244),h=n(37),b=(n(347),n(1));function v(e){var t=Object(l.useState)({}),n=Object(i.a)(t,2),r=n[0],o=n[1],v=Object(l.useState)([]),j=Object(i.a)(v,2),p=j[0],O=j[1],m=Object(l.useState)(0),y=Object(i.a)(m,2),x=y[0],g=y[1],C=Object(l.useRef)(null);function N(e){switch(e){case"#":return"\u5f53\u524d\u5b9a\u4f4d";case"hot":return"\u70ed\u95e8\u57ce\u5e02";default:return e.toUpperCase()}}Object(l.useEffect)((function(){function e(e){var t,n={};return e.forEach((function(e){var t=e.short.substr(0,1);n[t]?n[t].push(e):n[t]=[e]})),t=Object.keys(n).sort(),{cityList:n,cityIndex:t}}var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n,r,c,i,l,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.a.loading("Loading...",0,null,!1),t.next=3,h.a.get("/area/city?level=1");case 3:return n=t.sent,a.a.hide(),r=e(n.data.body),c=r.cityList,i=r.cityIndex,t.next=8,h.a.get("/area/hot");case 8:l=t.sent,c.hot=l.data.body,i.unshift("hot"),u=Object(d.a)(),c["#"]=[u],i.unshift("#"),o(c),O(i),C.current.measureAllRows();case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var k=function(e){var t=e.key,n=e.index,a=e.style,c=p[n];return Object(b.jsxs)("div",{style:a,className:"city",children:[Object(b.jsx)("div",{className:"title",children:N(c)}),r[c].map((function(e){return Object(b.jsx)("div",{className:"name",onClick:function(){return S(e)},children:e.label},e.value)}))]},t)},w=function(e){var t=e.startIndex;t!==x&&g(t)},_=function(e){var t=e.index;return 36+50*r[p[t]].length},S=function(t){var n=t.label,r=t.value;localStorage.setItem("zfy_city",JSON.stringify({label:n,value:r})),e.history.goBack()};return Object(b.jsxs)("div",{className:"citylist",children:[Object(b.jsx)(f.a,{children:"\u57ce\u5e02\u9009\u62e9"}),Object(b.jsx)(u.a,{children:function(e){var t=e.width,n=e.height;return Object(b.jsx)(u.c,{ref:C,width:t,height:n,rowCount:p.length,rowHeight:_,rowRenderer:k,onRowsRendered:w,scrollToAlignment:"start"})}}),Object(b.jsx)("ul",{className:"city-index",children:p.map((function(e,t){return Object(b.jsx)("li",{className:"city-index-item",onClick:function(){C.current.scrollToRow(t)},children:Object(b.jsx)("span",{className:x===t?"index-active":"",children:"hot"===e?"\u70ed":e.toUpperCase()})},e)}))})]})}}}]);
//# sourceMappingURL=18.260d7a8f.chunk.js.map